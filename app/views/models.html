<div class="container">

    <!--<div ng-if="model">-->
    <div ng-show="model == null" class="animaton-fadeanimaton-fade loader text-center" title="7" style="height: 100%; width: 100%;">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
           width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve">
          <rect x="0" y="10" width="4" height="10" fill="#333" opacity="0.2">
            <animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0s" dur="0.6s" repeatCount="indefinite" />
            <animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0s" dur="0.6s" repeatCount="indefinite" />
            <animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0s" dur="0.6s" repeatCount="indefinite" />
          </rect>
          <rect x="8" y="10" width="4" height="10" fill="#333"  opacity="0.2">
            <animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.15s" dur="0.6s" repeatCount="indefinite" />
            <animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.15s" dur="0.6s" repeatCount="indefinite" />
            <animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.15s" dur="0.6s" repeatCount="indefinite" />
          </rect>
          <rect x="16" y="10" width="4" height="10" fill="#333"  opacity="0.2">
            <animate attributeName="opacity" attributeType="XML" values="0.2; 1; .2" begin="0.3s" dur="0.6s" repeatCount="indefinite" />
            <animate attributeName="height" attributeType="XML" values="10; 20; 10" begin="0.3s" dur="0.6s" repeatCount="indefinite" />
            <animate attributeName="y" attributeType="XML" values="10; 5; 10" begin="0.3s" dur="0.6s" repeatCount="indefinite" />
          </rect>
        </svg>
      </div>

    </div>
    <div ng-show="model !== null" class="animaton-fade">
        <div class="row">
            <h1>{{model.description}} <small>{{model.id}}</small></h1>
        </div>
        <div class="row">
          <div class="btn-group pull-right">
            <a ng-hide="editMode" ng-click="enterEditMode()" class="btn btn-sm btn-default" >edit</a>
            <a ng-show="editMode" ng-click="handlingSave()" class="btn btn-sm btn-danger" >save</a>
            <a ng-show="editMode" ng-click="handlingCancel()" class="btn btn-sm btn-default" >cancel</a>
          </div>
        </div>
        <div class="column-container-wrapper">
          <div class="row column-container">
            <div class="col-lg-12 column column-wrapper" ng-style="categoriesStyle">
              <article ng-repeat="category in model.categories" class="column-item" ng-class="generateCategoryColor($index)">
                  <div class="clearfix" ng-mouseover="enableEdit(category)" ng-mouseleave="disableEdit(category)">
                    <div ng-hide="category.edit">
                      <h3 class="font-small-caps display-inline" style="font-variant: small-caps">{{category.name}}</h3>
                      <div class="animation-fade display-inline" ng-show="category.hover">
                        <a title="Delete topic" class="cursor-pointer color-cta" ng-click="deleteTopic(category.name)" ng-confirm-click="Are you sure you want to delete this topic?"><span class="glyphicon glyphicon-remove"></span></a>
                        <a title="Edit topic name" class="cursor-pointer" ng-click="editTopic(category)"><span class="glyphicon glyphicon-wrench"></span></a>
                        <a title="Add similar entities" class="cursor-pointer" ng-click="addTopicRelated(category.name)"><span class="glyphicon glyphicon-link"></span></a>
                      </div>
                    </div>
                    <div ng-show="category.edit">
                      <input class="h3 font-small-caps" ng-model="category.name"/>
                      <a ng-click="editTopicSave(category)" class="color-cta font-small-caps">save</a>
                      <a ng-click="editTopicCancel(category)" class="font-small-caps">cancel</a>
                    </div>
                  </div>
                  <div class="topic-entity animation-fade" ng-class="generateEntityColor(topic)" ng-repeat="topic in category.topics | orderBy:'weight':true" ng-mouseover="enableEdit(topic)" ng-mouseleave="disableEdit(topic)">
                    <topic-entity entity="topic" edit-mode="editMode" category="category.name"></topic-entity>
                  </div>
                  <div class="cta-button text-center" style="margin-top: 20px;">
                      <a class="btn btn-small btn-default" ng-click="openAddEntity(category.name)">Add entity</a>
                  </div>
              </article>
              <article class="column-item color-new">
                <div class="cta-button text-center" style="margin-top: 20px;">
                  <a class="btn btn-small btn-default" ng-click="openAddTopic()">Add topic</a>
                </div>
              </article>
            </div>
          </div>
        </div>
    </div>
</div>
